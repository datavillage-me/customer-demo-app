<div>
  <h2><b>Code IDE</b></h2>
</div>
<div>
  <h4><i>This code executes in your browser only. Test your code inline</i></h4>
</div>
<hr />
<script type="text/javascript">
  var myCodeMirror;
  window.onload = function () {
    outf("Initialization..")
    myCodeMirror = CodeMirror.fromTextArea(document.getElementById("yourcode"), {
      lineNumbers: true,
      mode: "python",
      theme: "cobalt"
    });
  };
  function outf(text) {
    var mypre = document.getElementById("output");
    mypre.innerHTML = text;
  }
  window.languagePluginUrl = "/js/pyodide.js";
  languagePluginLoader.then(() => {
    outf("")
    pyodide.runPython(`
    import sys
    import io
    sys.stdout = io.StringIO()
`);
    pyodide.runPython(`print("""You can 
    run python code from the textbox.
    This python runs in the browser 
    using Pyodide.""")`);
    var stdout = pyodide.runPython("sys.stdout.getvalue()")
    outf(stdout)
  });
  function runit() {
    code = myCodeMirror.getValue()
    pyodide.runPython(myCodeMirror.getValue())
    var stdout = pyodide.runPython("sys.stdout.getvalue()")
    outf(stdout)
  }
</script>
<div class="container">
  <div class="row">
    <div class="col-lg-6 col-md-6 col-sm-6">
      <div class="card" style="width: 100%;">
        <div class="card-body">
          <form>
            <textarea id="yourcode" style="font-size: medium">print("hello world")
          </textarea><br />
            <button type="button" onclick="runit()" class="btn btn-primary">Run</button>
          </form>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-6">
      <div class="card" style="width: 100%;height:150px;background-color: black;
        ">
        <div class="card-body">
          <pre id="output" style="color: white;font-size: medium">
        </pre>
          <div id="console"></div>
        </div>
      </div>
    </div>
  </div>
</div>