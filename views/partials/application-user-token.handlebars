<h4><b>Third</b>, get user access token to link pods, get consent and connect data sources.</h4>
<ul class="nav">
    <li class="nav-item"><a class="nav-link active" href="#pill21" data-toggle="tab">Node JS</a></li>
    <li class="nav-item"><a class="nav-link" href="#pill22" data-toggle="tab">Python</a></li>
    <li class="nav-item"><a class="nav-link" href="#pill23" data-toggle="tab">Java</a></li>
</ul>
<div class="tab-content tab-space">
      <div class="tab-pane active" id="pill21">
                            
<pre>
<code class="javascript">
var request = require('request');
var options = {
  'method': 'GET',
  'url': 'https://api.datavillage.me/users/{{#if session.applicationUserId}}{{session.applicationUserId}}{{else}}USER_ID{{/if}}/token',
  'headers': {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer {{#if session.applicationAccessToken}}{{session.applicationAccessToken}}{{else}}APPLICATION_ACCESS_TOKEN{{/if}}'
  }
};
request(options, function (error, response) { 
  if (error) throw new Error(error);
  console.log(response.body);
});
</code>
</pre>
                        </div>
                            <div class="tab-pane" id="pill22">
<pre>
<code class="python">
import requests

url = "https://api.datavillage.me/users/{{#if session.applicationUserId}}{{session.applicationUserId}}{{else}}USER_ID{{/if}}/token"

payload  = {}
headers = {
  'Content-Type': 'application/json',
  'Authorization': 'Bearer {{#if session.applicationAccessToken}}{{session.applicationAccessToken}}{{else}}APPLICATION_ACCESS_TOKEN{{/if}}'
}

response = requests.request("GET", url, headers=headers, data = payload)

print(response.text.encode('utf8'))
</code>
</pre> 
                         </div>
                            <div class="tab-pane" id="pill23">
<pre>
<code class="java">
OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
Request request = new Request.Builder()
  .url("https://api.datavillage.me/users/{{#if session.applicationUserId}}{{session.applicationUserId}}{{else}}USER_ID{{/if}}/token")
  .method("GET", null)
  .addHeader("Content-Type", "application/json")
  .addHeader("Authorization", "Bearer {{#if session.applicationAccessToken}}{{session.applicationAccessToken}}{{else}}APPLICATION_ACCESS_TOKEN{{/if}}")
  .build();
Response response = client.newCall(request).execute();
</code>
</pre> 
                            </div>
                            <h4><b>Test this endpoint</b></h4>
                            {{#if session.applicationAccessToken}}
                                {{#if session.applicationUserId}}
                                <form method="POST" target="userTokenResponseiFrame" action="/auth/applications/test/users/token">
                                    <input type="hidden" name="applicationAccessToken" value="{{session.applicationAccessToken}}"/>
                                    <input type="hidden" name="applicationUserId" value="{{session.applicationUserId}}"/>
                                    <button type="submit" class="btn btn-primary">Try &amp; get user access token</button>
                                </form>
                                <iframe class="response-payload" style="height:0px" id="userTokenResponseiFrame" name="userTokenResponseiFrame"></iframe> 
                                {{else}}
                                To try this enpoint, <a href="/auth/applications/userToken">first create a user</a>
                                {{/if}}
                            {{else}}
                                To try this enpoint, first <a href="/auth/applications/applicationToken">get your application access token</a>
                            {{/if}}